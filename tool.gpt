Name: Get GitHub Action Job Logs
Description: Gets the logs of a GH Actions job.
Param: html_url: the GitHub HTML URL for the logs of the job
Credential: credential as gh-actions-cred

#!python3

import urllib.request
import os

url = os.getenv("HTML_URL")
token = os.getenv("TOKEN")
headers = {
    "Authorization": "token " + token
}

request = urllib.request.Request(url, headers=headers)
with urllib.request.urlopen(request) as response:
    print(response.read().decode("utf-8"))

---
Type: credential
Name: credential
Tools: github.com/obot-platform/tools/generic-credential

#!sys.call github.com/obot-platform/tools/generic-credential

{
    "promptInfo": {
        "fields": [
            {
                "name": "GitHub PAT",
                "description": "Your GitHub personal access token",
                "env": "TOKEN"
            }
        ],
        "message": "Enter your GitHub personal access token."
    }
}
